
<div class="controles-container">
  <div class="botones-ordenamiento">
    <button 
      *ngIf="ordenActual === 'antiguo'"
      (click)="ordenarPorFechaReciente()"
      class="boton-ordenar"
    >
      <i class="fas fa-sort-amount-down"></i> Más recientes
    </button>
    <button 
      *ngIf="ordenActual === 'reciente'"
      (click)="ordenarPorFechaAntigua()"
      class="boton-ordenar"
    >
      <i class="fas fa-sort-amount-up"></i> Más antiguos
    </button>
  </div>
  
  <div class="filtro-fecha">
    <label for="fechaFiltro">Filtrar por fecha:</label>
    <input 
      type="date" 
      id="fechaFiltro" 
      [(ngModel)]="fechaFiltro" 
      (change)="filtrarPorFecha()"
      class="input-fecha"
    >
    <button 
      *ngIf="fechaFiltro" 
      (click)="limpiarFiltro()" 
      class="boton-limpiar"
    >
      <i class="fas fa-times"></i> Limpiar filtro
    </button>
  </div>
</div>

<div *ngIf="turnosFiltrados.length > 0; else noTurnos">
    <table>
      <thead>
        <tr>
          <th>Título</th>
          <th>Descripción</th>
          <th>Fecha</th>
          <th>Hora</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let turno of turnosFiltrados" 
            [class.turno-pasado]="esTurnoPasado(turno.fecha, turno.hora)">
          <td>{{ turno.titulo }}</td>
          <td>{{ turno.descripcion }}</td>
          <td>{{ turno.fecha }}</td>
          <td>{{ turno.hora }}</td>
          <td>
            <button 
              (click)="editarTurno(turno)"
              [disabled]="esTurnoPasado(turno.fecha, turno.hora)"
              [class.boton-deshabilitado]="esTurnoPasado(turno.fecha, turno.hora)"
            >
              Editar
            </button>
            <button 
              class="eliminar"
              (click)="eliminarTurno(turno)"
              [disabled]="esTurnoPasado(turno.fecha, turno.hora)"
              [class.boton-deshabilitado]="esTurnoPasado(turno.fecha, turno.hora)"
            >
              Eliminar
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  
  <ng-template #noTurnos>
    <p>No tienes turnos registrados.</p>
  </ng-template>
  