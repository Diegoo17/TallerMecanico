<div class="contact-container">
  <h2>Contactanos</h2>
  <p class="contact-description">¿Tenés alguna consulta? No dudes en contactarnos</p>

  <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" target="_blank" action="https://formsubmit.co/lucassette49@gmail.com" method="POST" class="contact-form">
    <div class="form-group">
      <div class="form-row">
        <div class="col">
          <label for="name">Nombre completo</label>
          <input 
            type="text" 
            id="name"
            name="name" 
            formControlName="name"
            class="form-control" 
            [ngClass]="{ 'invalid': submitted && f['name'].errors }"
            placeholder="Tu nombre">
          <div class="error-message" *ngIf="submitted && f['name'].errors">
            <span *ngIf="f['name'].errors['required']">El nombre es requerido</span>
            <span *ngIf="f['name'].errors['minlength']">El nombre debe tener al menos 3 caracteres</span>
          </div>
        </div>
        <div class="col">
          <label for="email">Email</label>
          <input 
            type="email" 
            id="email"
            name="email" 
            formControlName="email"
            class="form-control" 
            [ngClass]="{ 'invalid': submitted && f['email'].errors }"
            placeholder="Tu email">
          <div class="error-message" *ngIf="submitted && f['email'].errors">
            <span *ngIf="f['email'].errors['required']">El email es requerido</span>
            <span *ngIf="f['email'].errors['email']">Ingresa un email válido</span>
          </div>
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="phone">Teléfono</label>
      <input 
        type="tel" 
        id="phone"
        name="phone" 
        formControlName="phone"
        class="form-control" 
        [ngClass]="{ 'invalid': submitted && f['phone'].errors }"
        placeholder="Tu teléfono">
      <div class="error-message" *ngIf="submitted && f['phone'].errors">
        <span *ngIf="f['phone'].errors['required']">El teléfono es requerido</span>
        <span *ngIf="f['phone'].errors['pattern']">Ingresa un número válido de 10 dígitos</span>
      </div>
    </div>

    <div class="form-group">
      <label for="message">Mensaje</label>
      <textarea 
        id="message"
        name="message" 
        formControlName="message"
        class="form-control" 
        [ngClass]="{ 'invalid': submitted && f['message'].errors }"
        placeholder="Tu mensaje" 
        rows="4"></textarea>
      <div class="error-message" *ngIf="submitted && f['message'].errors">
        <span *ngIf="f['message'].errors['required']">El mensaje es requerido</span>
        <span *ngIf="f['message'].errors['minlength']">El mensaje debe tener al menos 10 caracteres</span>
      </div>
    </div>

    <button type="submit" class="btn-submit" [disabled]="submitted && contactForm.invalid">
      Enviar mensaje
    </button>
  </form>
</div>
